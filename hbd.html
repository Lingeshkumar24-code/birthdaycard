<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Happy Birthday ‚Äî A Gift for You üéâ</title>
  <style>
    :root{--bg:#0f1724;--card:#0b1220;--accent:#ff5c7c;--muted:#9aa4b2}
    *{box-sizing:border-box}
    body{margin:0;font-family:Inter,ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,'Helvetica Neue',Arial;background:linear-gradient(180deg,#071027 0%, #061323 100%);color:#e6eef8;min-height:100vh;display:flex;align-items:center;justify-content:center;padding:24px}
    .card{width:100%;max-width:980px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border-radius:16px;padding:22px;box-shadow:0 10px 30px rgba(2,6,23,0.6);position:relative;overflow:hidden}
    header{display:flex;align-items:center;gap:16px}
    .avatar{width:86px;height:86px;border-radius:12px;background:linear-gradient(90deg,var(--accent),#ff9a5c);display:flex;align-items:center;justify-content:center;font-weight:700;font-size:28px;color:#071022}
    h1{margin:0;font-size:1.6rem}
    p.lead{margin:4px 0 0;color:var(--muted)}

    .controls{margin-top:18px;display:flex;gap:8px;flex-wrap:wrap}
    button.btn{background:var(--accent);border:none;padding:10px 14px;border-radius:10px;color:white;font-weight:600;cursor:pointer;box-shadow:0 6px 18px rgba(255,92,124,0.18)}
    button.btn.ghost{background:transparent;border:1px solid rgba(255,255,255,0.06)}

    .main{display:grid;grid-template-columns:1fr 360px;gap:18px;margin-top:18px}
    .left{padding:14px}
    .right{padding:14px;border-left:1px dashed rgba(255,255,255,0.03)}

    .message{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));padding:16px;border-radius:12px}
    .message p{margin:0 0 8px}
    .images{display:flex;gap:8px;margin-top:12px}
    .images img{width:80px;height:80px;object-fit:cover;border-radius:8px;cursor:pointer;border:2px solid transparent}
    .images img:hover{transform:translateY(-6px);transition:all .18s}

    .gallery{display:grid;grid-template-columns:repeat(2,1fr);gap:8px;margin-top:12px}
    .gallery img{width:100%;height:120px;object-fit:cover;border-radius:10px}

    .secret{margin-top:12px;background:linear-gradient(90deg, rgba(255,92,124,0.08), rgba(255,154,92,0.03));padding:12px;border-radius:10px}
    .hidden{color:transparent;background:linear-gradient(90deg,#fff 0 30%, rgba(255,255,255,0.7) 40%);-webkit-background-clip:text;background-clip:text}

    footer{margin-top:18px;color:var(--muted);font-size:13px;display:flex;justify-content:space-between;align-items:center}

    /* full-screen reveal modal */
    .modal{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:rgba(2,6,23,0.6);backdrop-filter:blur(4px);z-index:40;opacity:0;pointer-events:none;transition:all .25s}
    .modal.open{opacity:1;pointer-events:auto}
    .modal .panel{background:linear-gradient(180deg,#071a2e,#081529);padding:28px;border-radius:14px;max-width:820px;width:94%;box-shadow:0 30px 80px rgba(2,6,23,0.7);text-align:center}
    .modal h2{margin:0 0 8px}
    .modal p{color:var(--muted)}

    /* confetti canvas */
    canvas#confetti{position:fixed;inset:0;pointer-events:none;z-index:50}

    /* video styles */
    #memoryVideo {
      width: 100%;
      max-width: 360px;
      border-radius: 12px;
      margin-top: 12px;
      display: none;
    }

    @media (max-width:880px){
      .main{grid-template-columns:1fr;}
      .right{border-left:none;border-top:1px dashed rgba(255,255,255,0.03);}
    }
  </style>
</head>
<body>
  <div class="card" role="application">
    <canvas id="confetti"></canvas>
    <header>
      <div class="avatar">LK</div>
      <div>
        <h1>Happy Birthday, Siruuu! üéÇ</h1>
        <p class="lead">A little surprise made just for you. Click the buttons to explore ‚Äî there are secrets hidden inside.</p>
      </div>
      <div style="margin-left:auto;display:flex;gap:8px;align-items:center">
        <button class="btn" id="playBtn">Play Surprise</button>
        <button class="btn ghost" id="downloadBtn">Download as Image</button>
      </div>
    </header>

    <div class="controls">
      <button class="btn" id="revealBtn">Open Gift</button>
      <button class="btn ghost" id="musicToggle">Play Music</button>
      <button class="btn ghost" id="countdownBtn">Show Countdown</button>
    </div>

    <div class="main">
      <div class="left">
        <div class="message" id="message">
          <h3>From: Lingesh</h3>
          <p>Hey! Remember when we used to race bikes down the old lane and hide from the rain? Those days made me who I am ‚Äî thanks for being in every crazy memory. Open the gift to see something special.</p>
          <div class="images" id="thumbs">
                <img src="img1.jpg" alt="Birthday Image 1">
            <img src="img2.jpg" alt="Birthday Image 2">
            <img src="img3.jpg" alt="Birthday Image 3">
           
          </div>
          <div class="gallery" id="gallery">
              <img src="img2.jpg" alt="Birthday Image 1">
            <img src="img5.jpg" alt="Birthday Image 2">
            <img src="img3.jpg" alt="Birthday Image 3" style="width:100%;height:120px;object-fit:contain;border-radius:10px;background:#222;">
         

          </div>
        </div>

      

      <aside class="right">
        <h4>Quick Actions</h4>
        <div style="display:flex;flex-direction:column;gap:8px;margin-top:8px">
          <button class="btn ghost" id="videoBtn">Play Memory Video</button>
          <button class="btn ghost" id="puzzleBtn">Tell Me a Joke</button>
        </div>

        <div style="margin-top:18px">
          <h4>When you were born</h4>
          <p id="bornAt">--:--:--</p>
         
        </div>

        <!-- Video Element -->
        <video id="memoryVideo" controls>
           <source src="Untitled video - Made with Clipchamp.mp4" type="video/mp4">

          Your browser does not support the video tag.
        </video>
      </aside>
    </div>

    <footer>
      <div>Made with ‚ù§Ô∏è by Lingesh</div>
     
    </footer>
  </div>

  <!-- Modal for full reveal -->
  <div class="modal" id="modal">
    <div class="panel">
      <h2>Surprise! üéâ</h2>
      <p id="modalText">Wishing you the happiest birthday. You're not just a friend ‚Äî you're family. Here's to many more adventures together.</p>
      <div style="margin-top:14px">
        <button class="btn" id="closeModal">Close</button>
      </div>
    </div>
  </div>

  <!-- Background Music -->
<audio id="bgm" loop preload="auto">
  <source src="siruu .mp3"" type="audio/mp3">
</audio>


  <script>
    // Simple confetti implementation
    const canvas = document.getElementById('confetti');
    const ctx = canvas.getContext('2d');
    let W = canvas.width = innerWidth;
    let H = canvas.height = innerHeight;
    window.addEventListener('resize', () => { W = canvas.width = innerWidth; H = canvas.height = innerHeight });

    function Confetti() {
      this.x = Math.random() * W; this.y = -10; this.r = 6 + Math.random() * 8; this.d = Math.random() * 50 + 6;
      this.tilt = Math.random() * 10 - 10; this.color = ['#ff5c7c', '#ffd166', '#66d9ff', '#b389ff'][Math.floor(Math.random() * 4)];
    }
    Confetti.prototype.draw = function () {
      ctx.beginPath(); ctx.fillStyle = this.color; ctx.rect(this.x, this.y, this.r, this.r * 0.6); ctx.fill();
    }
    let conf = [];
    function spawnConfetti(n = 120) { for (let i = 0; i < n; i++) conf.push(new Confetti()); }
    function updateConfetti() { ctx.clearRect(0, 0, W, H); for (let i = 0; i < conf.length; i++) { let p = conf[i]; p.y += (Math.cos(p.d) + 3 + p.r / 2); p.x += Math.sin(p.d); p.tilt += 0.1; p.draw(); if (p.y > H + 50) conf.splice(i, 1); } }
    let confInterval;

    // UI interactions
    const modal = document.getElementById('modal');
    const revealBtn = document.getElementById('revealBtn');
    const playBtn = document.getElementById('playBtn');
    const closeModal = document.getElementById('closeModal');
    const bgm = document.getElementById('bgm');
    const musicToggle = document.getElementById('musicToggle');
    const hiddenText = document.getElementById('hiddenText');
    const videoBtn = document.getElementById('videoBtn');
    const memoryVideo = document.getElementById('memoryVideo');
    const puzzleBtn = document.getElementById('puzzleBtn');

    revealBtn.addEventListener('click', () => { openReveal(); });
    playBtn.addEventListener('click', () => { openReveal(); });
    closeModal.addEventListener('click', () => { closeReveal(); });

    function openReveal() {
      modal.classList.add('open');
      spawnConfetti(160);
      if (confInterval) clearInterval(confInterval);
      confInterval = setInterval(updateConfetti, 33);
    }
    function closeReveal() {
      modal.classList.remove('open');
      if (confInterval) clearInterval(confInterval);
      conf = [];
      ctx.clearRect(0, 0, W, H);
    }

    // Press-and-hold to reveal secret
    let holdTimer;
    revealBtn.addEventListener('mousedown', () => {
      holdTimer = setTimeout(() => {
        hiddenText.style.color = '#ffd166';
        hiddenText.style.background = 'none';
        hiddenText.style.webkitBackgroundClip = '';
        hiddenText.textContent = 'You are the best! See you tonight for cake :)';
      }, 1100);
    });
    window.addEventListener('mouseup', () => { clearTimeout(holdTimer); });

    // Music toggle
    
    musicToggle.addEventListener('click', () => {
      if (bgm.paused) {
        bgm.play().catch(() => { });
        musicToggle.textContent = 'Pause Music';
      }
      else {
        bgm.pause();
        musicToggle.textContent = 'Play Music';
      }
    });

    // Play memory video
    videoBtn.addEventListener('click', () => {
      if (memoryVideo.style.display === 'none' || memoryVideo.style.display === '') {
        memoryVideo.style.display = 'block';
        memoryVideo.play();
        videoBtn.textContent = 'Hide Memory Video';
      } else {
        memoryVideo.pause();
        memoryVideo.style.display = 'none';
        videoBtn.textContent = 'Play Memory Video';
      }
    });

    // Jokes for puzzleBtn
    const jokes = [
      "Why did the birthday cake go to the doctor? Because it was feeling crumby!",
      "What do you call a bear with no teeth? A gummy bear!",
      "Why don‚Äôt scientists trust atoms? Because they make up everything!",
      "Why did the math book look sad? Because it had too many problems.",
      "Why did the scarecrow win an award? Because he was outstanding in his field!"
    ];
    puzzleBtn.addEventListener('click', () => {
      const joke = jokes[Math.floor(Math.random() * jokes.length)];
      alert(joke);
    });

    // Countdown
    const bornAt = document.getElementById('bornAt');
    const birthDate = new Date('2002-10-08T13:10:00');
    function updateBorn() {
      const now = new Date();
      const diff = birthDate - now;
      if (diff > 0) {
        const d = Math.floor(diff / 86400000);
        const h = Math.floor(diff % 86400000 / 3600000);
        const m = Math.floor(diff % 3600000 / 60000);
        const s = Math.floor(diff % 60000 / 1000);
        bornAt.textContent = `${d}d ${h}h ${m}m ${s}s`;
      } else {
        bornAt.textContent = 'Born on ' + birthDate.toLocaleString();
      }
    }
    setInterval(updateBorn, 1000);
    updateBorn();

    // Download card as SVG image
    document.getElementById('downloadBtn').addEventListener('click', () => {
      const card = document.querySelector('.card');
      const clone = card.cloneNode(true);
      clone.style.transform = 'none';
      const svg = `<svg xmlns='http://www.w3.org/2000/svg' width='1200' height='700'><foreignObject width='100%' height='100%'>${new XMLSerializer().serializeToString(clone)}</foreignObject></svg>`;
      const url = 'data:image/svg+xml;charset=utf-8,' + encodeURIComponent(svg);
      const link = document.createElement('a'); link.href = url; link.download = 'happy-birthday-card.svg'; document.body.appendChild(link); link.click(); link.remove();
    });
  </script>
</body>
</html>
